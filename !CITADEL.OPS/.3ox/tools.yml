# TOOLS.YML :: Available Tools for 7HE.CITADEL Runtime
# Version: v2.2.0
# Updated: 2025-10-20

tools:
  - name: FileValidator
    function: validate_file(filepath)
    returns: hash with :path, :hash, :size, :valid
    description: Validate file existence and generate xxHash64
    
  - name: ValidateAndLog
    function: validate_and_log(filepath, operation)
    returns: hash with :file, :operation, :hash, :timestamp, :status
    description: Validate file and log to 3ox.log (no receipt spam)
    
  - name: FindOutputFolder
    function: find_output_folder()
    returns: path string to sibling output folder
    description: Dynamic discovery of !0UT.3OX* folders (parent/grandparent levels)
    
  - name: LoadBrain
    function: load_brain()
    returns: hash with 'name', 'type', 'rules'
    description: Load agent configuration from brain.exe or brain.rs
    
  - name: LoadRoutes
    function: load_routes()
    returns: hash of operation â†’ destination routes
    description: Load routing configuration from routes.json
    
  - name: LoadLimits
    function: load_limits()
    returns: hash of resource limits
    description: Load resource constraints from limits.json
    
  - name: LoadTools
    function: load_tools()
    returns: hash of available tools
    description: Load tool registry from tools.yml (this file)
    
  - name: CheckFileLimits
    function: check_file_limits(filepath)
    returns: hash with :within_limits, :file_size_mb, :limit_mb
    description: Verify file size against configured limits
    
  - name: LogOperation
    function: log_operation(operation, status, details)
    returns: void (appends to 3ox.log)
    description: Log operation to central activity log with unique sigil

external_tools:
  - name: chat_discovery
    files: [chat_discovery.rb]
    usage: "ruby !CMD.CENTER/Toolkit/chat_discovery.rb increment"
    description: Discovery tracking for calibration
    
  - name: log_discovery
    files: [log_discovery.rb]
    usage: "ruby !CMD.CENTER/Toolkit/log_discovery.rb <type> <desc> <impact>"
    description: Manual discovery logging
    
  - name: merge_discoveries
    files: [merge_discoveries.rb]
    usage: "ruby !CMD.CENTER/Toolkit/merge_discoveries.rb"
    description: Merge discoveries into calibration

note: "CAT tools (cat-router, cat-trace) are SEPARATE system in (CAT.0) ADMIN/.3ox - DO NOT USE"

dependencies:
  - xxhash (gem install xxhash)
  - json (stdlib)
  - fileutils (stdlib)
  - time (stdlib)
  - yaml (stdlib)
  - digest (stdlib)
  - openssl (stdlib)

