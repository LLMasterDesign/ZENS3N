# TelePromptR _forge config

# Runtime command
TPR_BIN=ruby
TPR_ENTRYPOINT=runtime/vps/3ox.station/vec3/bin/teleprompter.rb
TPR_START_ARGS=
TPR_BASE_ID=CMD.BRIDGE
TPR_CMD_ROOT=/root/!ZENS3N.CMD/.3ox

# Speaker mesh (shared responder for agents with no dedicated runtime/key)
TPR_MESH_BIN=ruby
TPR_MESH_ENTRYPOINT=tools/speaker_mesh.rb
TPR_MESH_START_ARGS=start
TPR_MESH_CONFIG_PATH=CyberDeck/TPR.SPEAKER.MESH.json
TPR_MESH_STATE_DIR=_forge/runtime/mesh

# Shared LLM (optional; if blank mesh runs deterministic fallback mode)
TPR_MESH_API_KEY=
TPR_MESH_API_BASE=https://openrouter.ai/api/v1
TPR_MESH_MODEL=openai/gpt-4.1-mini
TPR_MESH_TEMPERATURE=0.45
TPR_MESH_MEMORY_WINDOW=28
TPR_MESH_POLL_INTERVAL_S=0.5

# Optional: leave blank to use runtime token file
# (runtime/vps/3ox.station/vec3/var/telegram_token.json)
TELEGRAM_BOT_TOKEN=

# Telegram API throttling (global). Keep conservative by default; increase only
# if you understand platform limits + have backoff on 429.
TPR_TELEGRAM_MAX_CALLS_PER_MINUTE=30

# Secure key vault dir (tgsub keys)
TPR_KEYS_DIR=

# Route policy + audit
TPR_ROUTE_MAP_PATH=CyberDeck/TPR.ROUTE.MAP.json
TPR_ROUTE_AUDIT_PATH=_forge/runtime/route_audit.jsonl

# Loadtest injection paths
TPR_BUS_OUTBOX_DIR=runtime/vps/3ox.station/vec3/var/outbox
TPR_BUS_REG_PATH=_forge/runtime/loadtest.registrations.json

# Watch behavior
FORGE_WATCH_ON_CHANGE=restart
FORGE_WATCH_REBUILD=1
FORGE_WATCH_BUILD_ON_START=1
FORGE_WATCH_INTERVAL_S=1.0

# Semicolon-separated paths (repo-relative or absolute)
FORGE_WATCH_PATHS=_forge;tools;CyberDeck;runtime/vps;README.md

# Tail size for logs command
FORGE_TAIL_LINES=120

# Load test defaults
FORGE_LOADTEST_AGENTS=24
FORGE_LOADTEST_MESSAGES_PER_AGENT=2

# Autopilot (optional; strict <10% autopost ratio)
# Autopilot only emits when a thread has gone idle and enough human messages have
# accumulated since the last autopost.
TPR_AUTOPILOT_ENABLED=0
TPR_AUTOPILOT_AGENT=Lobby
# Optional scope: only autopost + ingest this topic key (format: <chat_id>:<thread_id>)
TPR_AUTOPILOT_TOPIC_KEY=
TPR_AUTOPILOT_MIN_HUMAN=12
TPR_AUTOPILOT_IDLE_S=120
TPR_AUTOPILOT_COOLDOWN_S=900
