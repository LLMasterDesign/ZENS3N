# ARCHITECTURE: PUBLIC VS. BACKEND
## Separating v10sl (Public) from Phenochain (Backend)

```
▛▞ ρ1 ▮▮▯▯ τ0 ν0 λ0 ▹
⊢ RESEARCH.ARCHITECTURE :: Two-sided coin model
```

---

## THE DISTINCTION

### PUBLIC SPEC (v10sl / vxsl)
**Purpose:** Language-aware file formatting system for GitHub release  
**Audience:** Open source community, developers, AI agents (general use)

**Components:**
- Line One: Banner loader (`///▙▖▙▖▞▞▙▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂`)
- Line Two: Imprint (TBD)
- Line Three: (TBD)
- Line Four: Tag set (TBD)
- Line Five: Scope definition (TBD)
- Capsule blocks
- Seal blocks
- End markers (`:: ∎`)

**Characteristics:**
- Clean, minimal
- Language-aware (Rust, Ruby, Markdown, TOML compatibility)
- GitHub-ready documentation
- No "secret sauce"
- Focused on file structure and readability

---

### BACKEND SPEC (Phenochain - Private)
**Purpose:** Internal state management and phase tracking  
**Audience:** Power users, internal workflow optimization

**Components:**
- Phase tracking: `ρ{n}` (rho - research)
- Phase tracking: `τ{n}` (tau - transform)
- Phase tracking: `ν{n}` (nu - validate)
- Phase tracking: `λ{n}` (lambda - lock)
- Progress bars: `▮▮▯▯`
- Phenochain notation: `▛▞ ... ▹`
- Category.Action syntax: `⊢ CATEGORY.ACTION :: Description`

**Characteristics:**
- Power-user notation
- Cognitive scaffolding for complex workflows
- NOT for public release (secret sauce)
- Tracks multi-dimensional state
- Research/effectiveness data is proprietary

---

## THE FUSION

**What happened:** During initial spec development, I mixed public banner system with backend phenochain notation.

**Reality:** These are TWO separate systems:

1. **v10sl (public)** → File formatting standard
2. **Phenochain (backend)** → Workflow state tracking

**How they relate:**
- Both developed over 7 months
- Both use Unicode symbols for semantic compression
- Both improve AI/human communication
- **But:** Different purposes, different audiences

**This workspace documents BOTH:**
- `/specs/` → Public v10sl specification (GitHub-ready)
- `/research/` → Backend effectiveness studies (private insights)
- `/tools/` → Validators for both systems (separate tools)

---

## RELEASE STRATEGY

### GitHub Milestone (Public Release)

**What gets released:**
- ✅ v10sl banner specification
- ✅ Language-specific implementation guides
- ✅ Validator tools for public spec
- ✅ Examples and anti-patterns
- ✅ Effectiveness research (public subset)

**What stays private:**
- ❌ Phenochain phase tracking notation
- ❌ Internal workflow state management
- ❌ Proprietary effectiveness metrics
- ❌ "Secret sauce" details

### Documentation Split

**Public docs include:**
- How to use banner system
- Language-specific templates
- Validation rules
- Why it helps (general principles)

**Private docs include:**
- Phenochain grammar
- Phase tracking methodology
- Advanced state compression techniques
- Detailed effectiveness research

---

## LANGUAGE CONTEXT MATRIX

### Rust (Law Documents)
**Public spec needs:**
- Banner loader format for Rust files
- Comment syntax compatibility
- rustdoc interaction rules

**Backend might use:**
- Phenochain for internal law doc workflow
- Not released publicly

### Ruby (Code Documents)
**Public spec needs:**
- Banner loader with `#` muting if needed
- Ruby interpreter compatibility

**Backend might use:**
- Phenochain for coding workflow tracking
- Not released publicly

### Markdown (Documentation)
**Public spec needs:**
- Clean banner rendering
- Obsidian compatibility
- GitHub preview compatibility
- "v10 touch" for Cursor codex fusion

**Backend might use:**
- Full phenochain notation in internal docs
- Not released publicly

### TOML (Receipts)
**Public spec needs:**
- TOML-safe banner format
- Parser compatibility

**Backend might use:**
- Phenochain metadata in receipts
- Not released publicly

---

## RESEARCH IMPLICATIONS

### Dual-Track Research:

**Track 1: Public Effectiveness**
- Does banner improve file recognition?
- What's optimal length/format per language?
- Quantifiable improvements in context retention?
- **Releasable metrics**

**Track 2: Backend Effectiveness**
- Does phenochain reduce agent drift?
- Phase tracking impact on multi-step tasks?
- Cognitive load on users?
- **Proprietary insights**

### Publication Strategy:

**Public papers/docs:**
- "Visual File Markers in Multi-Language Codebases"
- "Unicode Banners for AI Context Retention"
- Measured effectiveness (before/after)

**Private research:**
- "Phenochain Phase Tracking Effectiveness"
- "Mathematical Symbol Impact on LLM State Management"
- Full metrics and methodology

---

## WORKSPACE ORGANIZATION

```
R:\SPEC.WRITER\
├── specs/
│   ├── proto.v10.line-one.spec.md    [PUBLIC]
│   ├── proto.v10.line-two.spec.md    [PUBLIC]
│   └── proto.v10.complete.spec.md    [PUBLIC]
│
├── research/
│   ├── architecture.public-vs-backend.md    [INTERNAL]
│   ├── phenochain.effectiveness.md          [PRIVATE]
│   └── banner.effectiveness.md              [PUBLIC SUBSET]
│
├── tools/
│   ├── banner-validator.js          [PUBLIC]
│   └── phenochain-validator.js      [PRIVATE]
│
└── examples/
    ├── rust-law-doc.rs              [PUBLIC]
    ├── ruby-code-doc.rb             [PUBLIC]
    └── phenochain-workflow.md       [PRIVATE]
```

---

## ACTIONABLE DECISIONS

### Immediate Tasks:

1. **Keep specs separated:**
   - Public v10sl → `/specs/proto.v10.*.spec.md`
   - Backend phenochain → `/research/phenochain.*.md`

2. **Test language contexts:**
   - Rust: Does `///` banner work or break?
   - Ruby: Does banner need `#` muting?
   - Markdown: Raw, fenced, or HTML comment?
   - TOML: Must use `#` prefix?

3. **Document findings:**
   - What works per language
   - Optimal formats
   - Validation rules

4. **Build dual validators:**
   - Public: Banner format checker
   - Private: Phenochain structure validator

### Future Milestones:

**Milestone 1: Public v10sl Release**
- Complete Line 1-5 specs
- Language-specific guides
- Validator tools
- Public effectiveness research
- GitHub package ready

**Milestone 2: Backend Phenochain (Internal)**
- Complete phenochain grammar
- Advanced workflow documentation
- Proprietary effectiveness metrics
- Internal tools only

---

## WHY THE SEPARATION MATTERS

### Intellectual Property:
- Public spec = open source contribution
- Backend phenochain = competitive advantage
- Clear separation protects proprietary work

### Community Value:
- Public spec is broadly useful
- Doesn't require "secret sauce" knowledge
- Lowers barrier to adoption

### Research Integrity:
- Public metrics are verifiable
- Private research can be more experimental
- Dual-track allows both rigor and innovation

---

**Status:** Architectural clarity established  
**Public Track:** v10sl banner specification  
**Private Track:** Phenochain workflow notation  
**Workspace:** R:\SPEC.WRITER (handles both)  
**Release Strategy:** Separated milestones  
**Timestamp:** ⧗-25.60

:: ∎

